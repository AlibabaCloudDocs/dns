# 获取地址池健康检查配置（新）

调用DescribeDnsGtmMonitorConfig获取地址池健康检查配置。

## 调试

[您可以在OpenAPI Explorer中直接运行该接口，免去您计算签名的困扰。运行成功后，OpenAPI Explorer可以自动生成SDK代码示例。](https://api.aliyun.com/#product=Alidns&api=DescribeDnsGtmMonitorConfig&type=RPC&version=2015-01-09)

## 请求参数

|名称|类型|是否必选|示例值|描述|
|--|--|----|---|--|
|Action|String|是|DescribeDnsGtmMonitorConfig|系统规定参数。取值：DescribeDnsGtmMonitorConfig。 |
|MonitorConfigId|String|是|MonitorConfigId1|健康检查配置id。 |
|Lang|String|否|en|部分返回参数语言。默认值：en。取值范围：en、zh、ja。 |

## 返回数据

|名称|类型|示例值|描述|
|--|--|---|--|
|CreateTime|String|2017-12-28T13:08Z|创建时间。 |
|CreateTimestamp|Long|1527690629357|创建时间戳。 |
|EvaluationCount|Integer|1|连续次数。 |
|Interval|Integer|1|检查间隔。单位秒。 |
|IspCityNodes|Array of IspCityNode| |监控节点。 |
|IspCityNode| | | |
|CityCode|String|572|城市编码。 |
|CityName|String|青岛市|城市展示名。 |
|CountryCode|String|001|国家编码。 |
|CountryName|String|中国|国家展示名。 |
|IspCode|String|123|运营商编码。 |
|IspName|String|阿里巴巴|运营商名称。 |
|MonitorConfigId|String|MonitorConfigId1|健康检查配置id。 |
|MonitorExtendInfo|String|\{\\"code\\":200,\\"path\\":\\"\\\\index.htm\\",\\"host\\":\\"aliyun.com\\"\}|扩展信息，各协议检查所需参数：

 -   HTTP\(S\)：
    -   port：检查端口
    -   host：Host设置
    -   path：URL路径
    -   code：返回码大于
    -   failureRate：失败率
    -   sni：是否开启sni，仅在HTTPS协议时使用。
        -   true-开启
        -   其他-未开启
    -   nodeType：地址池类型为DOMAIN时，健康检查监控节点类型：
        -   IPV4
        -   IPV6
-   PING：
    -   failureRate：失败率
    -   packetNum：ping包数
    -   packetLossRate：ping丢包率
    -   nodeType：地址池类型为DOMAIN时，健康检查监控节点类型：
        -   IPV4
        -   IPV6
-   TCP：
    -   port：检查端口
    -   failureRate：失败率
    -   nodeType：地址池类型为DOMAIN时，健康检查监控节点类型：
        -   IPV4
        -   IPV6 |
|ProtocolType|String|http|检查协议：

 -   HTTP
-   HTTPS
-   PING
-   TCP |
|RequestId|String|6856BCF6-11D6-4D7E-AC53-FD579933522B|唯一请求识别码。 |
|Timeout|Integer|3000|超时时间。单位毫秒。 |
|UpdateTime|String|2018-01-03T08:57Z|更新时间。 |
|UpdateTimestamp|Long|1527690629357|更新时间戳。 |

## 示例

请求示例

```
http(s)://alidns.aliyuncs.com/?Action=DescribeDnsGtmMonitorConfig
&MonitorConfigId=MonitorConfigId1
&<公共请求参数>
```

正常返回示例

`XML`格式

```
<RequestId>6856BCF6-11D6-4D7E-AC53-FD579933522B</RequestId>
<Timeout>3000</Timeout>
<ProtocolType>http</ProtocolType>
<IspCityNodes>
    <IspCityNode>
        <CityCode>572</CityCode>
        <IspName>阿里巴巴</IspName>
        <CountryName>中国</CountryName>
        <CityName>青岛市</CityName>
        <CountryCode>001</CountryCode>
        <IspCode>123</IspCode>
    </IspCityNode>
</IspCityNodes>
<CreateTime>2017-12-28T13:08Z</CreateTime>
<UpdateTime>2018-01-03T08:57Z</UpdateTime>
<EvaluationCount>1</EvaluationCount>
<MonitorExtendInfo>"{\"code\":200,\"path\":\"\\index.htm\",\"host\":\"aliyun.com\"}"</MonitorExtendInfo>
<UpdateTimestamp>1527690629357</UpdateTimestamp>
<MonitorConfigId>MonitorConfigId1</MonitorConfigId>
<CreateTimestamp>1527690629357</CreateTimestamp>
<Interval>1</Interval>
```

`JSON`格式

```
{
	"RequestId": "6856BCF6-11D6-4D7E-AC53-FD579933522B",
	"Timeout": "3000",
	"ProtocolType": "http",
	"IspCityNodes": {
		"IspCityNode": [{
			"CityCode": "572",
			"IspName": "阿里巴巴",
			"CountryName": "中国",
			"CityName": "青岛市",
			"CountryCode": "001",
			"IspCode": "123"
		}]
	},
	"CreateTime": "2017-12-28T13:08Z",
	"UpdateTime": "2018-01-03T08:57Z",
	"EvaluationCount": "1",
	"MonitorExtendInfo": "\"{\\\"code\\\":200,\\\"path\\\":\\\"\\\\index.htm\\\",\\\"host\\\":\\\"aliyun.com\\\"}\"",
	"UpdateTimestamp": "1527690629357",
	"MonitorConfigId": "MonitorConfigId1",
	"CreateTimestamp": "1527690629357",
	"Interval": "1"
}
```

## 错误码

访问[错误中心](https://error-center.alibabacloud.com/status/product/Alidns)查看更多错误码。

