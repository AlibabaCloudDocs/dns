# 新增地址池（新）

调用AddDnsGtmAddressPool新增地址池

## 调试

[您可以在OpenAPI Explorer中直接运行该接口，免去您计算签名的困扰。运行成功后，OpenAPI Explorer可以自动生成SDK代码示例。](https://api.aliyun.com/#product=Alidns&api=AddDnsGtmAddressPool&type=RPC&version=2015-01-09)

## 请求参数

|名称|类型|是否必选|示例值|描述|
|--|--|----|---|--|
|Action|String|是|AddDnsGtmAddressPool|系统规定参数。取值：AddDnsGtmAddressPool。 |
|Addr.N.Addr|String|是|1.1.1.1|地址。 |
|Addr.N.AttributeInfo|String|是|default|地址归属信息, JSON字符串格式。

 -   lineCode：归属线路Code
-   lineCodeRectifyType：归属线路订正类型，默认：自动订正
    -   NO\_NEED 不订正
    -   RECTIFIED 已订正
    -   AUTO 自动订正 |
|Addr.N.Mode|String|是|online|模式：

 -   SMART：智能返回
-   ONLINE：永远在线
-   OFFLINE：永远离线 |
|InstanceId|String|是|instance1|实例Id。 |
|LbaStrategy|String|是|all\_rr|负载均衡状态：

 -   ALL\_RR：返回全部地址
-   RATIO：按权重返回地址 |
|Name|String|是|test|地址池名称。 |
|Type|String|是|ipv4|地址池类型：

 -   IPV4：ipv4地址
-   IPV6: ipv6地址
-   DOMAIN：域名 |
|Lang|String|否|en|部分返回参数语言。默认值：en。取值范围：en、zh、ja。 |
|Addr.N.LbaWeight|Integer|否|1|权重。 |
|Addr.N.Remark|String|否|test|备注。 |
|MonitorStatus|String|否|open|健康检查开启状态（默认CLOSE），若OPEN则校验健康检查配置，否则抛弃

 -   OPEN：开启
-   CLOSE：关闭 |
|ProtocolType|String|否|http|检查协议：

 -   HTTP
-   HTTPS
-   PING
-   TCP |
|Interval|Integer|否|1|检查间隔，单位秒。 |
|EvaluationCount|Integer|否|1|连续次数。 |
|Timeout|Integer|否|1|超时时间，单位毫秒。 |
|MonitorExtendInfo|String|否|\{\\"code\\":200,\\"path\\":\\"\\\\index.htm\\",\\"host\\":\\"aliyun.com\\"\}|扩展信息，各协议检查所需参数：

 -   HTTP\(S\)：
    -   port：检查端口
    -   host：Host设置
    -   path：URL路径
    -   code：返回码大于
    -   failureRate：失败率
    -   sni：是否开启sni，仅在HTTPS协议时使用。
        -   true-开启
        -   其他-未开启
    -   nodeType：地址池类型为DOMAIN时，健康检查监控节点类型：
        -   IPV4
        -   IPV6
-   PING：
    -   failureRate：失败率
    -   packetNum：ping包数
    -   packetLossRate：ping丢包率
    -   nodeType：地址池类型为DOMAIN时，健康检查监控节点类型：
        -   IPV4
        -   IPV6
-   TCP：
    -   port：检查端口
    -   failureRate：失败率
    -   nodeType：地址池类型为DOMAIN时，健康检查监控节点类型：
        -   IPV4
        -   IPV6 |
|IspCityNode.N.CityCode|String|否|503|监控节点-城市Code。 |
|IspCityNode.N.IspCode|String|否|465|监控节点-运营商code。 |

## 返回数据

|名称|类型|示例值|描述|
|--|--|---|--|
|AddrPoolId|String|testpool1|地址池id。 |
|MonitorConfigId|String|test1|健康检查配置id。 |
|RequestId|String|6856BCF6-11D6-4D7E-AC53-FD579933522B|唯一请求识别码。 |

## 示例

请求示例

```
http(s)://alidns.aliyuncs.com/?Action=AddDnsGtmAddressPool
&Addr.1.Addr=1.1.1.1
&Addr.1.AttributeInfo=default
&Addr.1.Mode=online
&InstanceId=instance1
&LbaStrategy=all_rr
&Name=test
&Type=ipv4
&<公共请求参数>
```

正常返回示例

`XML`格式

```
<RequestId>6856BCF6-11D6-4D7E-AC53-FD579933522B</RequestId>
<AddrPoolId>testpool1</AddrPoolId>
<MonitorConfigId>test1</MonitorConfigId>
```

`JSON`格式

```
{
	"RequestId": "6856BCF6-11D6-4D7E-AC53-FD579933522B",
	"AddrPoolId": "testpool1",
	"MonitorConfigId": "test1"
}
```

## 错误码

访问[错误中心](https://error-center.alibabacloud.com/status/product/Alidns)查看更多错误码。

